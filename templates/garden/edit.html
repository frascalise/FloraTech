{% extends "base.html" %}

{% block title %}Modifica Garden - {{ garden.label }}{% endblock %}

{% block content %}
<div class="container mx-auto px-4 py-6 text-white">
    <h1 class="text-3xl font-bold text-green-500 mb-6">✏️ Modifica Garden: <span class="text-white">{{ garden.label }}</span></h1>

    <!-- Modifica Nome Garden -->
    <form method="POST" class="mb-6">
        {% csrf_token %}
        <div class="mb-4 flex items-center bg-gray-800 p-4 rounded-lg">
            <label for="label" class="block text-sm font-medium text-gray-300">Nome del Garden</label>
            <input type="text" id="label" name="label" value="{{ garden.label }}" class="mt-1 block w-full p-2 border border-gray-300 bg-gray-800 rounded-md shadow-sm focus:ring-green-500 focus:border-green-500">
        </div>
        <button type="submit" class="bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded">Salva</button>
    </form>

    <!-- Modifica Quantità Piante -->
    <form method="POST" class="mb-6">
        {% csrf_token %}
        {% for plant in garden.plants %}
        <div class="mb-4 flex items-center bg-gray-800 p-4 rounded-lg">
            <label for="plant_{{ plant.name }}" class="block text-sm font-medium text-gray-300">Pianta: {{ plant.name }}</label>
            <input type="number" id="plant_{{ plant.name }}" name="plant_{{ plant.name }}" value="{{ plant.quantity }}" class="mt-1 block w-full p-2 border border-gray-300 bg-gray-800 rounded-md shadow-sm focus:ring-green-500 focus:border-green-500">
        </div>
        {% endfor %}
        <button type="submit" class="bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded">Aggiorna Quantità</button>
    </form>

    <!-- Aggiungi Nuova Pianta -->
    <form method="POST" class="mb-6">
        {% csrf_token %}
        <div class="mb-4 flex items-center bg-gray-800 p-4 rounded-lg">
            <label for="new_plant" class="block text-sm font-medium text-gray-300">Aggiungi una pianta</label>
            <select id="new_plant" name="new_plant" class="mt-1 block w-full p-2 border border-gray-300 bg-gray-800 rounded-md shadow-sm focus:ring-green-500 focus:border-green-500">
                <option value="">Seleziona una pianta</option>
                {% for plant in plants %}
                    <option value="{{ plant.id }}">{{ plant.name }}</option>
                {% endfor %}
            </select>
        </div>
        <button type="submit" class="bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded">Aggiungi</button>
    </form>
</div>
{% endblock %}